<head>
  <title>NeoBank Dashboard</title>
  {% include 'head.html'%}
</head>

<header>{% include 'navbar.html' %}</header>

<div class="container mt-4">
  <div class="row">
    <div class="col-md-6">
      <h2>Bienvenido, {{ client.name }}!</h2>
      <p>
        Este es su panel de control personalizado donde puede gestionar su
        cuenta NeoBank NeoBank..
      </p>
      <hr />
    </div>

    <div class="col-md-6">
      {% if not account %}

      <h3>Agregar Nueva Cuenta</h3>
      <form method="POST" action="add_account">
        {% csrf_token %}
        <div class="form-group">
          <label for="accountType">Tipo de Cuenta</label>
          <select
            class="form-control"
            id="accountType"
            name="account_type"
            required
          >
            <option value="current">Cuenta Corriente</option>
            <option value="saving">Cuenta Ahorros</option>
          </select>
        </div>
        <div class="form-group">
          <label for="balance">Deposito Inicial</label>
          <input
            type="number"
            class="form-control"
            id="balance"
            name="balance"
            required
            min="100"
          />
        </div>

        <button type="submit" class="btn btn-primary">Agregar Cuenta</button>
      </form>
      {% else %}
      <div class="account-item">
        <h5>Fecha de inicio: {{ account.created_at }}</h5>
        <p>Numero de cuenta: {{ account.number }}</p>
        <p>Tu Saldo es: ${{ account.balance }}</p>
      </div>

      <button href="transfer" class="btn btn-primary" id="transfer">
        Transferir
      </button>
      <button type="button" class="btn btn-primary">Retirar</button>
      <button
        type="button"
        class="btn btn-primary"
        onclick="formDepositHidden()"
      >
        Depositar
      </button>
      {% endif %}
    </div>
  </div>
  <div class="col">
    <div id="depositForm" style="display: none">
      <h3>Depositar Dinero</h3>
      <form method="POST" action="">
        {% csrf_token %}
        <div class="form-group">
          <label for="depositAmount">Cantidad a Depositar</label>
          <input
            type="number"
            class="form-control"
            id="depositAmount"
            name="amount"
            required
            min="1"
          />
        </div>
        <button type="submit" class="btn btn-success">
          Confirmar Dep√≥sito
        </button>
        <button type="submit" class="btn btn-dark">Cancelar</button>
      </form>
    </div>
  </div>
  <div class="col">
    <div id="withdrawForm" style="display: none">
      <h3>Retirar Dinero</h3>
      <form method="POST" action="">
        {% csrf_token %}
        <div class="form-group">
          <label for="withdrawAmount">Cantidad a Retirar</label>
          <input
            type="number"
            class="form-control"
            id="withdrawAmount"
            name="amount"
            required
            min="1"
          />
        </div>
        <button type="submit" class="btn btn-success">Confirmar Retiro</button>
        <button type="button" class="btn btn-dark" onclick="hideWithdrawForm()">
          Cancelar
        </button>
      </form>
    </div>
  </div>
</div>
{% include 'footer.html' %}
